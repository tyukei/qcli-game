# 575判定ゲーム

ブラウザで動く俳句の5-7-5音律判定ゲームです。

## 機能

- **2つのステージ**: 俳句ステージと日常ステージを選択可能
- **Gemini API連携**: Google Gemini APIを使用してリアルな俳句・短詩を生成
- **正確な575判定**: 日本語の音数を正確にカウントして575を判定
- **30秒チャレンジ**: 制限時間30秒で何問正解できるかを競う
- **キーボード操作**: YキーとNキーで素早く回答
- **スコア別エンディング**: 成績に応じた4種類のエンディング

## ステージ紹介

### 🌸 俳句ステージ
- 季語を含んだ美しい俳句の575判定
- 自然や日常の美しい瞬間を表現した文章が出題
- 伝統的な俳句の感覚を身につけられる

### 💭 日常ステージ  
- 生活や仕事で思わず575になってしまった一言
- 「コーヒーが / 冷めてしまった / また作ろう」のような日常会話
- 意外と575になっている普段の言葉を発見できる

## セットアップ

### 1. Gemini APIキーの取得

1. [Google AI Studio](https://aistudio.google.com/app/apikey) にアクセス
2. Googleアカウントでログイン
3. 「Create API Key」をクリック
4. 新しいプロジェクトを作成するか、既存のプロジェクトを選択
5. APIキーをコピー（`AIza`で始まる文字列）

**重要**: APIキーは`AIzaSy`で始まる約39文字の文字列です。

### 2. APIキーの設定

#### 方法1: config.jsファイルを使用（推奨）

1. `config.example.js` を `config.js` にコピー：
   ```bash
   cp config.example.js config.js
   ```

2. `config.js` ファイルを編集：
   ```javascript
   const CONFIG = {
       GEMINI_API_KEY: 'あなたのAPIキー'
   };
   ```

#### 方法2: 直接HTMLファイルを編集

`index.html` ファイルの以下の行を編集：

```javascript
const GEMINI_API_KEY = 'YOUR_GEMINI_API_KEY_HERE'; // ここにAPIキーを貼り付け
```

例：
```javascript
const GEMINI_API_KEY = 'AIzaSyC-abcdefghijklmnopqrstuvwxyz123456789';
```

### 3. 実行

ブラウザで `index.html` を開いてゲームを開始してください。

## 注意事項

- APIキーが設定されていない場合は、フォールバック機能により簡易版で動作します
- GitHub Pagesで公開する場合は、APIキーが公開されることに注意してください
- 本格運用の場合は、サーバーサイドでAPIキーを管理することを推奨します

## スコア基準（30秒版）

- **12問以上**: 🏆 俳句マスター
- **9-11問**: 🌟 俳句上級者  
- **6-8問**: 📚 俳句学習者
- **5問以下**: 🌱 俳句初心者

## 技術仕様

- **音数カウント**: ひらがな・カタカナ・漢字に対応、拗音・促音を正確に処理
- **575判定**: 各行の音数を正確にカウントして5-7-5パターンを判定
- **エラーハンドリング**: API呼び出し失敗時の自動フォールバック
- **レスポンシブ**: モバイル・デスクトップ両対応
